{% if query.status == 'pending' %}
<div class="bg-yellow-50 border border-yellow-200 rounded-xl p-6">
    <div class="flex items-center">
        <div class="animate-pulse w-8 h-8 bg-yellow-400 rounded-full mr-4"></div>
        <div>
            <h3 class="text-lg font-medium text-yellow-800">Preparing Council</h3>
            <p class="text-yellow-700">Initializing query...</p>
        </div>
    </div>
</div>

{% elif query.status == 'gathering' %}
<div class="bg-blue-50 border border-blue-200 rounded-xl p-6">
    <div class="flex items-center">
        <svg class="animate-spin w-8 h-8 text-blue-600 mr-4" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        <div>
            <h3 class="text-lg font-medium text-blue-800">Gathering Responses</h3>
            <p class="text-blue-700">Council members are formulating their answers...</p>
        </div>
    </div>
    
    <!-- Progress indicator -->
    <div class="mt-4 grid grid-cols-3 gap-2">
        {% for i in "123" %}
        <div class="h-2 bg-blue-200 rounded-full overflow-hidden">
            <div class="h-full bg-blue-500 rounded-full animate-pulse" style="animation-delay: {{ forloop.counter0 }}00ms;"></div>
        </div>
        {% endfor %}
    </div>
</div>

{% elif query.status == 'voting' %}
<div class="bg-purple-50 border border-purple-200 rounded-xl p-6">
    <div class="flex items-center">
        <svg class="animate-bounce w-8 h-8 text-purple-600 mr-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
        </svg>
        <div>
            <h3 class="text-lg font-medium text-purple-800">Council Voting</h3>
            <p class="text-purple-700">Members are evaluating and ranking responses...</p>
        </div>
    </div>
</div>

{% elif query.status == 'complete' %}
<!-- Trigger page refresh to show full results -->
<script>window.location.reload();</script>

{% elif query.status == 'error' %}
<!-- Trigger page refresh to show error -->
<script>window.location.reload();</script>
{% endif %}
